{% extends "base.html" %}
{% load tr %}

{% block title %}{% tr ru="Регистрация" en="Sign up" %} — FitMacro Planner{% endblock %}

{% block content %}
  <div class="max-w-lg mx-auto">
    <div class="card bg-base-100 shadow-sm border border-base-300">
      <div class="card-body">
        <h1 class="card-title text-2xl">{% tr ru="Регистрация" en="Sign up" %}</h1>
        <form method="post" class="space-y-3">
          {% csrf_token %}

          <div class="form-control">
            <label class="label" for="{{ form.username.id_for_label }}"><span class="label-text">{{ form.username.label }}</span></label>
            {{ form.username }}
            {% if form.username.errors %}
              <div class="text-error text-sm mt-1">{{ form.username.errors }}</div>
            {% endif %}
          </div>

          <div class="form-control">
            <label class="label" for="{{ form.email.id_for_label }}"><span class="label-text">{{ form.email.label }}</span></label>
            {{ form.email }}
            {% if form.email.errors %}
              <div class="text-error text-sm mt-1">{{ form.email.errors }}</div>
            {% endif %}
          </div>

          <div class="form-control">
            <label class="label" for="{{ form.password1.id_for_label }}"><span class="label-text">{{ form.password1.label }}</span></label>
            {{ form.password1 }}
            {% if form.password1.errors %}
              <div class="text-error text-sm mt-1">{{ form.password1.errors }}</div>
            {% endif %}
            {% if form.password1.help_text %}
              <div class="text-base-content/60 text-xs mt-1">{{ form.password1.help_text|safe }}</div>
            {% endif %}
          </div>

          <div class="form-control">
            <label class="label" for="{{ form.password2.id_for_label }}"><span class="label-text">{{ form.password2.label }}</span></label>
            {{ form.password2 }}
            {% if form.password2.errors %}
              <div class="text-error text-sm mt-1">{{ form.password2.errors }}</div>
            {% endif %}
            {% if form.password2.help_text %}
              <div class="text-base-content/60 text-xs mt-1">{{ form.password2.help_text|safe }}</div>
            {% endif %}
          </div>

          {% if form.non_field_errors %}
            <div class="alert alert-error"><span>{{ form.non_field_errors }}</span></div>
          {% endif %}

          <button class="btn btn-primary w-full" type="submit">Зарегистрироваться</button>
        </form>
        <div class="text-center mt-2">
          <a href="{% url 'login' %}" class="link link-hover text-sm opacity-70">{% tr ru="Уже есть аккаунт? Войти" en="Already have an account? Sign in" %}</a>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

